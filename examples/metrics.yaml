topology:
  services:
    payment:
      resourceAttrSets:
        - weight: 1 
          resourceAttrs:
            instrument.name: lighstep
            http.method: POST
            mq.queue.name: MQ.LOAN
      metrics:
        - name: mq.depth
          type: Sum
          max: 100
          min: 0
          period: 5m
          shape: triangle
          tagGenerator:
            tags:
              - mq.queue.name
              - mq.server
              - mq.manager
            numVals: 50
            valueVariability: 5
        - name: mq.oldestMsgAge
          type: Sum
          max: 36000
          min: 0
          period: 60m
          shape: triangle
    loan:
      metrics:
        - name: mq.depth
          type: Sum
          max: 20
          min: 0
          period: 5m
          shape: triangle
